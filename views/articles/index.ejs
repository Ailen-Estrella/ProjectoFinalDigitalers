<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    
    <link 
        rel="stylesheet" 
        href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css"
    >
    <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
    <title>Twitter</title>

</head>

<body>
    <div class="container">
        <!-- TITULO  -->
        <div class="text-center">
            <!-- <h1 class="card-title">Twitter</h1> -->
            <img src="https://res.cloudinary.com/dx2uakpv5/image/upload/v1665619881/logo_y5mds1.png" alt="logo-blog" class="img-fluid">
        </div>
        <div class="carrousel">
            <% articles.forEach((article)=> { console.log(article.image); if (article.image.length > 0) { %>
            <div style="padding: 32px;">
                <div style="background-image: url('<%= article.image %>'); background-size: cover; width: 350px; height: 300px;">
                    <div style="background-color:#1DA1F2; color:aliceblue;padding: 6px; padding-left: 20px;">
                        <h2><%= article.title %></h2>
                    </div>
                </div>
                
            </div>
            <% } }) %>
        </div>
        <!-- BUTTON -->
        <div class="d-flex justify-content-end m-2">
            <a class="btn btn-primary" href="/articles/new" role="button">
                <i class="bi bi-twitter"></i>
                Tweet
            </a>
        </div>
        <% articles.forEach(article=> { %>

            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">
                        <%= article.title %>
                    </h4>
                    <p class="card-text">
                        <%= article.markdown%>
                    </p>
                    <div>
                        <img src="<%= article.image%>"></img>
                    </div>
                </div>
                <div class="d-flex justify-content-end m-2">
                    <a class="btn btn-secondary" href="/articles/<%= article.slug%>" role="button">
                        Ver +
                    </a>
                    <a class="btn btn-warning" href="/articles/edit/<%= article.id%>" role="button">
                        Editar
                    </a>
                    <form action="/articles/<%= article.id%>?_method=DELETE" method="POST">
                        <button type="submit" class="btn btn-danger">
                            Eliminar
                        </button>
                    </form>
                </div>
            </div>
            <br>
        <% }); %>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"> </script>
    <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
    <script>
        $(document).ready(() => {
            $('.carrousel').slick({
                arrows: false,
                centerMode: true,
                centerPadding: '60px',
                slidesToShow: 3,
                responsive: [
                    {
                    breakpoint: 768,
                    settings: {
                        arrows: false,
                        centerMode: true,
                        centerPadding: '40px',
                        slidesToShow: 3
                    }
                    },
                    {
                    breakpoint: 480,
                    settings: {
                        arrows: false,
                        centerMode: true,
                        centerPadding: '40px',
                        slidesToShow: 1
                    }
                    }
                ]
                });
        })
    </script>
</body>

</html>
